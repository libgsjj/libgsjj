<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgsjj: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgsjj
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Deterministic finite automata learning library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">libgsjj Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Deterministic finite automata learning library</a><ul><li class="level2"><a href="#autotoc_md1">Learning deterministic finite automata</a></li>
<li class="level2"><a href="#autotoc_md2">How to use libgsjj</a><ul><li class="level3"><a href="#autotoc_md3">Dependencies to install</a></li>
<li class="level3"><a href="#autotoc_md4">How to compile</a></li>
<li class="level3"><a href="#autotoc_md5">How to use in a project</a><ul><li class="level4"><a href="#autotoc_md6">How to add a new method</a></li>
</ul>
</li>
<li class="level3"><a href="#autotoc_md7">Unit tests</a></li>
<li class="level3"><a href="#autotoc_md8">Benchmarks</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md9">User manual</a><ul><li class="level3"><a href="#autotoc_md10">Input files</a><ul><li class="level4"><a href="#autotoc_md11">Sample</a></li>
<li class="level4"><a href="#autotoc_md12">Loop-free DFA</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md13">License</a><ul><li class="level3"><a href="#autotoc_md14">Changes made on bcsat</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md0"></a>
Deterministic finite automata learning library</h1>
<p>The <code>libgsjj</code> is an open-source framework for learning deterministic finite automata. This project was done by Jonathan Joertz and GaÃ«tan Staquet (we named this library after our initials in our humility) for our Master's project at the University of Mons (UMONS).</p>
<p>This README uses Doxygen's features. Please see the <a href="https://libgsjj.github.io/libgsjj/index.html">online documentation</a> for a easier to read README.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Learning deterministic finite automata</h2>
<p>This library focuses on passive learning algorithms. In other words, the learning task is the following:</p><ol type="1">
<li>We have a sample <img class="formulaInl" alt="$S = (S_+, S_-)$" src="form_0.png"/> over an alphabet <img class="formulaInl" alt="$\sigma$" src="form_1.png"/> where <img class="formulaInl" alt="$S_+$" src="form_2.png"/> is the finite set of words the DFA must accept and <img class="formulaInl" alt="$S_-$" src="form_3.png"/> is the finite set of words the DFA must reject.</li>
<li>We must build the smallest DFA consistent with <img class="formulaInl" alt="$S$" src="form_4.png"/>. A DFA <img class="formulaInl" alt="$A$" src="form_5.png"/> is consistent with <img class="formulaInl" alt="$S$" src="form_4.png"/> if <img class="formulaInl" alt="$S_+ \subseteq L(A) \land S_- \cap L(A) = \emptyset$" src="form_6.png"/>.</li>
</ol>
<p>To build such a DFA, we use what we call passive learning algorithms. The following algorithms are implemented in <code>libgsjj</code>:</p><ul>
<li>Biermann and Feldman's algorithm</li>
<li>Grinchtein, Leucker and Piterman's unary and binary algorithms</li>
<li>Heule and Verwer's algorithm</li>
<li>Neider and Jansen's algorithm</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
How to use libgsjj</h2>
<p><code>libgsjj</code> can only be compiled under Linux and OS X. Windows 10 users can use a Linux Subsystem for Windows to compile and execute the programs.</p>
<p>Please note that the benchmarks will only be correct under Linux because the way the CPU time for a thread is retrieved is only working under that family of OS. The Linux kernel's version must be at least 2.6.26.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Dependencies to install</h3>
<p>To be able to compile and use our library, you will need the install the following dependencies (we also give the Debian and Ubuntu package's name in parenthesis):</p><ul>
<li>GMP (libgmp-dev)</li>
<li>CVC4 (libcvc4-dev)</li>
<li>zlib (zlib1g-dev)</li>
<li>Boost (libboost-all-dev)</li>
<li>Bison (bison)</li>
<li>Flex (flex)</li>
<li>PkgConfig (pkg-config or pkgconfig), optional</li>
<li>Doxygen and dot (doxygen and graphviz), optional, to build to documentation</li>
</ul>
<p>The other dependencies are given in this repository.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
How to compile</h3>
<p>When you are in the root directory of this library: </p><div class="fragment"><div class="line">mkdir build &amp;&amp; cd build &amp;&amp; cmake .. &amp;&amp; make</div></div><!-- fragment --><p>This will build the library. If you want to install it, use <code>make install</code>. You can change the installation folder with <code>cmake -DCMAKE_INSTALL_PREFIX=your/path ..</code> (or use a graphical interface for CMake).</p>
<p>To enable building the benchmarks, instead of <code>cmake ..</code> use <code>cmake -DBUILD_BENCHMARKS=TRUE ..</code>.</p>
<p>To enable building the tests, instead of <code>cmake ..</code> use <code>cmake -DBUILD_TESTS=TRUE ..</code>. You can of course enable the benchmarks and the tests at the same time with <code>cmake -DBUILD_BENCHMARKS=TRUE -DBUILD_TESTS=TRUE ..</code></p>
<h3><a class="anchor" id="autotoc_md5"></a>
How to use in a project</h3>
<p>If you use CMake, it's easy. The building stage described before also creates a CMake Config file. Therefore, in your <code>CMakeLists.txt</code>, you only have to add the line </p><div class="fragment"><div class="line">find_library(gsjj)</div></div><!-- fragment --><p> and <code>gsjj</code> will be available a target you can link against. It's possible the user must set the <code>gsjj_DIR</code> CMake parameter to be able to build your program if the files are not installed in the standard location.</p>
<p>To construct a method, please see the <a class="el" href="namespacegsjj_1_1passive.html#ab144a441d83d1d16f7e63d782866501b" title="Computes the alphabet and the prefixes set from Sp and Sm and constructs a method for a fixed number ...">gsjj::passive::constructMethod</a> functions. Here is the complete list of built-in methods with the names used in the program:</p><ul>
<li>Biermann and Feldman: <code>biermann</code></li>
<li>Neider and Jansen: <code>neider</code></li>
<li>Grinchtein, Leucker and Piterman unary:<ul>
<li>CNF: <code>unary</code></li>
<li>Non-CNF: <code>unaryNonCNF</code></li>
</ul>
</li>
<li>Grinchtein, Leucker and Piterman binary:<ul>
<li>CNF: <code>binary</code></li>
<li>Non-CNF: <code>binaryNonCNF</code></li>
</ul>
</li>
<li>Heule and Verwer:<ul>
<li>CNF: <code>heule</code></li>
<li>Non-CNF: <code>heuleNonCNF</code></li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md6"></a>
How to add a new method</h4>
<p>Let's say we want to create a new method called <code>TestMethod</code>. It's really simple. We just have to create a new class, makes it inheriting <a class="el" href="classgsjj_1_1passive_1_1Method.html" title="The base class of all passive methods. ">gsjj::passive::Method</a> and gsjj::passive::RegisterInFactory&lt;TestMethod&gt;. Here is a very simple (and stupid) example: </p><div class="fragment"><div class="line"><span class="keyword">class </span>TestMethod :</div><div class="line">  <span class="keyword">public</span> <a class="code" href="classgsjj_1_1passive_1_1Method.html">gsjj::passive::Method</a>,</div><div class="line">  <span class="keyword">public</span> <a class="code" href="classgsjj_1_1passive_1_1RegisterInFactory.html">gsjj::passive::RegisterInFactory</a>&lt;TestMethod&gt; {</div><div class="line">  <span class="keyword">public</span>:</div><div class="line">      <span class="keywordtype">bool</span> <a class="code" href="classgsjj_1_1passive_1_1Method.html#a0d36eafeb3a90fa36ffc462b02f5ddd6">solve</a>()<span class="keyword"> override </span>{</div><div class="line">        <span class="comment">// Every method inheriting RegisterInFactory must have a line using s_registered</span></div><div class="line">        s_registered = <a class="code" href="classgsjj_1_1passive_1_1RegisterInFactory.html#a813c4622db02fd14c30ea8004afa8205">s_registered</a>;</div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">      }</div><div class="line">      std::unique_ptr&lt;gsjj::DFA&lt;char&gt;&gt; <a class="code" href="classgsjj_1_1passive_1_1Method.html#af9eea07c5d7bc311e2afa615702e913c">constructDFA</a>()<span class="keyword"> override </span>{</div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line">      }</div><div class="line">      <span class="keywordtype">void</span> <a class="code" href="classgsjj_1_1passive_1_1Method.html#a3791091fea1b184e606b7221888b968c">setStopTrigger</a>(<span class="keyword">const</span> std::chrono::seconds &amp;timeLimit, std::atomic_bool &amp;stopTrigger, <span class="keyword">const</span> <span class="keywordtype">bool</span> *stopPointer)<span class="keyword"> override </span>{</div><div class="line">        <span class="comment">// If the method relies on CVC4, use timeLimit to set the engine&#39;s timeLimit</span></div><div class="line">        <span class="comment">// If the method relies on Maple, use stopTrigger</span></div><div class="line">        <span class="comment">// If the method relies on Limboole, use stopPointer</span></div><div class="line">      }</div><div class="line">      <span class="keyword">static</span> std::string getFactoryName() {</div><div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;test&quot;</span>;</div><div class="line">      }</div><div class="line"></div><div class="line">  <span class="keyword">protected</span>:</div><div class="line">      TestMethod(</div><div class="line">        <span class="keyword">const</span> std::set&lt;std::string&gt; &amp;SpSet,</div><div class="line">        <span class="keyword">const</span> std::set&lt;std::string&gt; &amp;SmSet,</div><div class="line">        <span class="keyword">const</span> std::set&lt;std::string&gt; &amp;SSet,</div><div class="line">        <span class="keyword">const</span> std::set&lt;std::string&gt; &amp;prefixesSet,</div><div class="line">        <span class="keyword">const</span> std::set&lt;char&gt; &amp;alphabetSet,</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) :</div><div class="line">          Method(SpSet, SmSet, SSet, prefixesSet, alphabetSet, n) {}</div><div class="line">};</div></div><!-- fragment --><p>After that, creating a new instance of this method is as easy as for the other methods: </p><div class="fragment"><div class="line">std::set&lt;std::string&gt; Sp = {...}, Sm = {...};</div><div class="line"><span class="keyword">auto</span> method = <a class="code" href="namespacegsjj_1_1passive.html#ab144a441d83d1d16f7e63d782866501b">gsjj::passive::constructMethod</a>(<span class="stringliteral">&quot;test&quot;</span>, Sp, Sm);</div></div><!-- fragment --><h3><a class="anchor" id="autotoc_md7"></a>
Unit tests</h3>
<p>Once build, you can launch the unit tests by starting the program <code>tests</code> (built in the subfolder <code>tests</code> in <code>build</code>).</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Benchmarks</h3>
<p>Once build, you can launch the benchmarks by starting the program <code>benchmarks</code> (built in the subfolder <code>benchmarks</code> in <code>build</code>).</p>
<h2><a class="anchor" id="autotoc_md9"></a>
User manual</h2>
<p>The <code>benchmarks</code> program can be used to benchmark a method on a sample or to simply execute a method.</p>
<p>To execute a method (let's say the Heule and Verwer method) on a randomly generated sample (with default parameters) and get the optimal DFA in a DOT format, we write: </p><div class="fragment"><div class="line">./benchmarks --to-dot heule</div></div><!-- fragment --><p> By default, the output file is <code>out.dot</code>. This can be changed with the option <code>--output-file</code>.</p>
<p>To execute a method on an input-file describing a sample, we write: </p><div class="fragment"><div class="line">./benchmarks --to-dot --input-file /path/to/file heule</div></div><!-- fragment --><p>To execute a method on an input-file describing a loop-free DFA, we write: </p><div class="fragment"><div class="line">./benchmarks --to-dot --input-file /path/to/file --loop-free heule</div></div><!-- fragment --><p>We can also ask the program to execute a method on a fixed DFA size. Let's say we want to use the binary method, use a randomly generated sample and test if there exists a consistent DFA of size 3: </p><div class="fragment"><div class="line">./benchmarks --to-dot binary 3</div></div><!-- fragment --><p>To benchmark a method on a sample, we write: </p><div class="fragment"><div class="line">./benchmarks --benchmarks --input-file /path/to/file biermann</div></div><!-- fragment --><p> The program will print the time taken by the method and return 0 if and only if the method could find the optimal DFA.</p>
<p>You can get the complete list of options with </p><div class="fragment"><div class="line">./benchmarks --help</div></div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Input files</h3>
<p>As said before, the <code>benchmarks</code> program handles two types of input files :</p><ol type="1">
<li>Files describing a sample</li>
<li>Files describing a loop-free DFA</li>
</ol>
<h4><a class="anchor" id="autotoc_md11"></a>
Sample</h4>
<p>The files describing a sample start with the words in <img class="formulaInl" alt="$S_+$" src="form_2.png"/>, followed by a line with <code>=====</code> and end with the words in <img class="formulaInl" alt="$S_-$" src="form_3.png"/>. Each word must be in its own line and an empty line is considered as the empty word. See the files <code>example.in</code>, <code>neider.in</code> and <code>names.in</code> for examples.</p>
<h4><a class="anchor" id="autotoc_md12"></a>
Loop-free DFA</h4>
<p>The files describing a loop-free DFA are structured as followed: </p><div class="fragment"><div class="line">.p 600</div><div class="line">.s 601</div><div class="line">.i 1</div><div class="line">.o 1</div><div class="line">1 N0 N1 0</div><div class="line">1 N1 N2 0</div><div class="line">.e</div></div><!-- fragment --><p>We suppose that the alphabet is always <img class="formulaInl" alt="$\{0,1\}$" src="form_23.png"/>. The four first lines must be present in the file but are not used. The lines after describe a transition in the loopâ»free DFA. For example, <code>1 N0 N1 0</code> indicates that there is a transition from <code>N0</code> to <code>N1</code> using the symbol <code>1</code> and that <code>N1</code> is not an accepting state. The last line must be <code>.e</code>.</p>
<p>See the files in the directory <code>plots/files</code> for examples.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
License</h2>
<p>Due to bcsat and the modifications done on this dependency, our library is licensed under the GNU GPL v2.</p>
<p>CVC4 is distributed both under BSD 3-Clause and GNU GPL v3. If you want to distribute binaries based on libgsjj, be sure to use a BSD 3-Clause distribution for CVC4 since GNU GPL v2 and v3 are incompatible.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
Changes made on bcsat</h3>
<p>We give here the modifications done on bcsat. The base files can be found at <a href="https://github.com/scrippie/bcsat">https://github.com/scrippie/bcsat</a>.</p>
<ul>
<li>On 6 March 2019:<ul>
<li>Modification of <code>bcminisat220_solve.cc</code> to remove log messages.</li>
<li>Removing folders <code>minisat-2.2.0</code> et <code>zchaff.2008.10.12</code>.</li>
</ul>
</li>
<li>On 10 March 2019:<ul>
<li>Modification of <code>bc.hh</code>, <code>bc.cc</code> and <code>bcminisat220_solve.cc</code> to allow the functions to stop when the time limit is reached (the information is propagated through a <code>std::atomic_bool</code> object).</li>
</ul>
</li>
<li>On 25 March 2019:<ul>
<li>Modification of <code>bcminisat220_solve.c</code>, <code>lexer.lex</code>, <code>lexer11.lex</code>, <code>parser.y</code> and <code>parser11.y</code> to change the include paths </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
